!function(){"use strict";const e={formSelector:".form",submitButton:".form__button",formInput:".form__input",submitButtonInactive:"form__button_inactive",errorActive:"form__input-error_active",inputErrorType:"form__input_type_error"},t=(e,t,r)=>{const n=e.querySelector(`.input-error-${t.id}`);t.classList.remove(r.inputErrorType),n.classList.remove(r.errorActive),n.textContent=""},r=(e,t)=>{e.classList.add(t),e.disabled=!0},n=(e,t,n)=>{(e=>e.some(e=>!e.validity.valid))(e)?r(t,n.submitButtonInactive):((e,t)=>{e.classList.remove(t),e.disabled=!1})(t,n.submitButtonInactive)},o=(e,r,n)=>{r.forEach(r=>{t(e,r,n)})};document.querySelector(".header__logo").src="80804e27ce061efd1ffb.svg";const a=document.querySelector("#edit-profile-modal"),c=document.querySelector(".profile__edit-button"),s=document.querySelector(".profile__name"),i=document.querySelector(".profile__description"),l=a.querySelector("#full-name"),d=a.querySelector("#personal-description"),u=document.forms["profile-form"],m=document.querySelector("#edit-profile-modal .form__button"),f=document.querySelector("#edit-profile-picture"),_=document.querySelector(".profile__image_edit-button"),h=document.querySelector("#profile-picture"),p=document.forms["profile-picture-form"],v=document.getElementById("image-profile"),y=document.querySelector("#edit-profile-picture .form__button"),S=document.querySelector("#new-post-modal"),b=document.querySelector(".profile__post-button"),q=document.forms["new-post-form"],k=q.elements,L=k["image-link"],E=k["image-caption"],g=document.querySelector("#new-post-modal .form__button"),C=document.querySelector("#card-modal"),x=C.querySelector(".modal__card-image"),I=C.querySelector(".modal__card-text"),A=document.querySelector("#delete-modal"),U=A.querySelector(".modal__delete-btn"),$=A.querySelector(".modal__cancel-btn");let D,P;const T=document.querySelector("#card-template"),w=document.querySelector(".cards__list"),B=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}addNewCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"PUT":"DELETE",headers:this._headers}).then(this._checkResponse)}updateProfilePicture({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"22fdb226-7a01-4811-8d5b-a97d4e91bdb8","Content-Type":"application/json"}});function R(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",O)}function N(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",O)}function O(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");e&&N(e)}}function j(e){const t=T.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__image"),n=t.querySelector(".card__text"),o=t.querySelector(".card__like-button");return r.src=e.link,r.alt=e.name,n.textContent=e.name,e.isLiked&&o.classList.add("card__like-button_active"),o.addEventListener("click",t=>{!function(e,t){const r=e.target.classList.contains("card__like-button_active");B.updateLikeStatus(t,!r).then(()=>{e.target.classList.toggle("card__like-button_active")}).catch(console.error)}(t,e._id)}),t.querySelector(".card__delete-button").addEventListener("click",()=>function(e,t){D=e,P=t._id,R(A)}(t,e)),r.addEventListener("click",()=>{x.src=e.link,x.alt=e.name,I.textContent=e.name,R(C)}),t}var J;B.getAppInfo().then(([e,t])=>{e.forEach(e=>{const t=j(e);w.append(t)}),s.textContent=t.name,i.textContent=t.about,document.querySelector(".profile__image").src=t.avatar}).catch(e=>{console.error(e)}),document.querySelectorAll(".modal").forEach(e=>{e.addEventListener("click",function(t){(t.target.classList.contains("modal__close-button")||t.target.classList.contains("modal"))&&N(e)})}),c.addEventListener("click",function(t){t.preventDefault(),l.value=s.textContent,d.value=i.textContent;const r=Array.from(u.querySelectorAll(e.formInput));o(u,r,e),R(a)}),u.addEventListener("submit",function(e){e.preventDefault(),m.textContent="Saving...",B.editUserInfo({name:l.value,about:d.value}).then(e=>{s.textContent=e.name,i.textContent=e.about,N(a)}).catch(e=>{console.error(e)}).finally(()=>{m.textContent="Save"})}),_.addEventListener("click",function(t){t.preventDefault();const r=Array.from(p.querySelectorAll(e.formInput));o(p,r,e),R(f)}),p.addEventListener("submit",function(e){e.preventDefault(),y.textContent="Saving...",B.updateProfilePicture({avatar:h.value}).then(e=>{v.src=e.avatar,p.reset(),N(f)}).catch(e=>{console.error(e)}).finally(()=>{y.textContent="Save"})}),b.addEventListener("click",()=>{o(q,[L,E],e),q.reset(),R(S)}),q.addEventListener("submit",function(t){t.preventDefault(),g.textContent="Saving...",B.addNewCard({name:E.value,link:L.value}).then(n=>{I.textContent=n.name,x.src=n.link;const o=j(n);w.prepend(o),t.target.reset();const a=q.querySelector(e.submitButton);r(a,e.submitButtonInactive),N(S)}).catch(e=>{console.error(e)}).finally(()=>{g.textContent="Save"})}),U.addEventListener("click",function(){U.textContent="Deleting...",B.deleteCard(P).then(()=>{D.remove(),N(A)}).catch(console.error).finally(()=>{U.textContent="Delete"})}),$.addEventListener("click",function(){N(A)}),J=e,document.querySelectorAll(J.formSelector).forEach(e=>{e.addEventListener("submit",function(e){e.preventDefault()}),((e,r)=>{const o=Array.from(e.querySelectorAll(r.formInput)),a=e.querySelector(r.submitButton);n(o,a,r),o.forEach(c=>{c.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=e.querySelector(`.input-error-${t.id}`);t.classList.add(n.inputErrorType),o.textContent=r,o.classList.add(n.errorActive)})(e,r,r.validationMessage,n)})(e,c,r),n(o,a,r)})})})(e,J)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QytJLENBQ0U1SSxFQUNBQyxFQUNBQSxFQUFhNkksa0JBQ2I1SSxJQXFDQXlJLENBQW1CM0ksRUFBYUMsRUFBY0MsR0FDOUNZLEVBQWtCQyxFQUFXTCxFQUFlUixFQUM5QyxNQVVBd0ksQ0FBa0IxSSxFQUFhRSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIHN1Ym1pdEJ1dHRvbjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgZm9ybUlucHV0OiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvbkluYWN0aXZlOiBcImZvcm1fX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGVycm9yQWN0aXZlOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JUeXBlOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxufTtcclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIGAuaW5wdXQtZXJyb3ItJHtpbnB1dEVsZW1lbnQuaWR9YFxyXG4gICk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JUeXBlKTtcclxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQWN0aXZlKTtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBgLmlucHV0LWVycm9yLSR7aW5wdXRFbGVtZW50LmlkfWBcclxuICApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yVHlwZSk7XHJcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmVycm9yQWN0aXZlKTtcclxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihcclxuICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgIGlucHV0RWxlbWVudCxcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxyXG4gICAgICBjb25maWdcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgaW5hY3RpdmVCdXR0b25DbGFzcykgPT4ge1xyXG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGVuYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKSA9PiB7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZy5zdWJtaXRCdXR0b25JbmFjdGl2ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVuYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcuc3VibWl0QnV0dG9uSW5hY3RpdmUpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1JbnB1dCkpO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b24pO1xyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIGNvbmZpZyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCB7IGVuYWJsZVZhbGlkYXRpb24sIHJlc2V0VmFsaWRhdGlvbiwgZGlzYWJsZUJ1dHRvbiwgdmFsaWRhdGlvbkNvbmZpZyB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG4gIHJlc2V0VmFsaWRhdGlvbixcclxuICBkaXNhYmxlQnV0dG9uLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5cclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQgbG9nbyBmcm9tIFwiLi4vaW1hZ2VzL2xvZ28uc3ZnXCI7XHJcbmNvbnN0IGxvZ29JbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbG9nb1wiKTtcclxubG9nb0ltZy5zcmMgPSBsb2dvO1xyXG5cclxuLy9Qcm9maWxlIHZhcmlhYmxlc1xyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIiNmdWxsLW5hbWVcIik7XHJcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcGVyc29uYWwtZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xyXG5jb25zdCBwcm9maWxlRWRpdFNhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI2VkaXQtcHJvZmlsZS1tb2RhbCAuZm9ybV9fYnV0dG9uXCJcclxuKTtcclxuXHJcbi8vUHJvZmlsZSBwaWN0dXJlIHZhcmlhYmxlc1xyXG5jb25zdCBwcm9maWxlUGljTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1waWN0dXJlXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZVBpY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VfZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVQaWNJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1waWN0dXJlXCIpO1xyXG5jb25zdCBwcm9maWxlUGljRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1waWN0dXJlLWZvcm1cIl07XHJcbmNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2UtcHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZVBpY1NhdmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI2VkaXQtcHJvZmlsZS1waWN0dXJlIC5mb3JtX19idXR0b25cIlxyXG4pO1xyXG5cclxuLy9Qb3N0IHZhcmlhYmxlc1xyXG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xyXG5jb25zdCBuZXdQb3N0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wb3N0LWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcIm5ldy1wb3N0LWZvcm1cIl07XHJcbmNvbnN0IGNhcmRGb3JtRWxlbWVudHMgPSBjYXJkRm9ybS5lbGVtZW50cztcclxuY29uc3QgaW1hZ2VMaW5rID0gY2FyZEZvcm1FbGVtZW50c1tcImltYWdlLWxpbmtcIl07XHJcbmNvbnN0IGltYWdlQ2FwdGlvbiA9IGNhcmRGb3JtRWxlbWVudHNbXCJpbWFnZS1jYXB0aW9uXCJdO1xyXG5jb25zdCBuZXdQb3N0U2F2ZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWwgLmZvcm1fX2J1dHRvblwiKTtcclxuXHJcbi8vQ2FyZCBtb2RhbCB2YXJpYWJsZXNcclxuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBtb2RhbENhcmRJbWFnZSA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXJkLWltYWdlXCIpO1xyXG5jb25zdCBtb2RhbENhcmRUZXh0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcmQtdGV4dFwiKTtcclxuXHJcbi8vRGVsZXRlIG1vZGFsIHZhcmlhYmxlc1xyXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xyXG5jb25zdCBtb2RhbERlbGV0ZUJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2RlbGV0ZS1idG5cIik7XHJcbmNvbnN0IG1vZGFsQ2FuY2VsQnRuID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FuY2VsLWJ0blwiKTtcclxubGV0IHNlbGVjdGVkQ2FyZDtcclxubGV0IHNlbGVjdGVkQ2FyZElkO1xyXG5cclxuLy9DYXJkIHRlbXBsYXRlIHZhcmlhYmxlc1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbmNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuLy9pbnN0YW50aWF0ZSBBUEkgYW5kIGxvYWQgY2FyZHNcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMjJmZGIyMjYtN2EwMS00ODExLThkNWItYTk3ZDRlOTFiZGI4XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmFwaVxyXG4gIC5nZXRBcHBJbmZvKClcclxuICAudGhlbigoW2luaXRpYWxDYXJkcywgZ2V0VXNlckluZm9dKSA9PiB7XHJcbiAgICBpbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZEVsZW1lbnREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmREZXRhaWxzID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZEVsZW1lbnREYXRhKTtcclxuICAgICAgY2FyZENvbnRhaW5lci5hcHBlbmQoY2FyZERldGFpbHMpO1xyXG4gICAgfSk7XHJcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGdldFVzZXJJbmZvLm5hbWU7XHJcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBnZXRVc2VySW5mby5hYm91dDtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIikuc3JjID0gZ2V0VXNlckluZm8uYXZhdGFyO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICB9KTtcclxuXHJcbi8vTW9kYWwgb3Blbi9jbG9zZSBmdW5jdGlvbnNcclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjYXBlS2V5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VNb2RhbEVzY2FwZUtleSk7XHJcbn1cclxuXHJcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XHJcblxyXG5tb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcclxuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIikgfHxcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWxFc2NhcGVLZXkoZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gICAgaWYgKG9wZW5Nb2RhbCkge1xyXG4gICAgICBjbG9zZU1vZGFsKG9wZW5Nb2RhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vL1Byb2ZpbGUgZnVuY3Rpb25zXHJcbmVkaXRQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRWRpdFByb2ZpbGVNb2RhbCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuRWRpdFByb2ZpbGVNb2RhbChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybUlucHV0KVxyXG4gICk7XHJcbiAgcmVzZXRWYWxpZGF0aW9uKHByb2ZpbGVGb3JtLCBpbnB1dExpc3QsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VibWl0UHJvZmlsZUZvcm0oZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcHJvZmlsZUVkaXRTYXZlQnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8oeyBuYW1lOiBuYW1lSW5wdXQudmFsdWUsIGFib3V0OiBkZXNjcmlwdGlvbklucHV0LnZhbHVlIH0pXHJcbiAgICAudGhlbigodXBkYXRlZFVzZXJJbmZvKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXBkYXRlZFVzZXJJbmZvLm5hbWU7XHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVwZGF0ZWRVc2VySW5mby5hYm91dDtcclxuICAgICAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwcm9maWxlRWRpdFNhdmVCdG4udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIH0pO1xyXG59XHJcblxyXG5wcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHN1Ym1pdFByb2ZpbGVGb3JtKTtcclxuXHJcbi8vUHJvZmlsZSBQaWMgZnVuY3Rpb25zXHJcbmVkaXRQcm9maWxlUGljQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUHJvZmlsZVBpY01vZGFsKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qcm9maWxlUGljTW9kYWwoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIHByb2ZpbGVQaWNGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5mb3JtSW5wdXQpXHJcbiAgKTtcclxuICByZXNldFZhbGlkYXRpb24ocHJvZmlsZVBpY0Zvcm0sIGlucHV0TGlzdCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgb3Blbk1vZGFsKHByb2ZpbGVQaWNNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFByb2ZpbGVQaWNGb3JtKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHByb2ZpbGVQaWNTYXZlQnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICBhcGlcclxuICAgIC51cGRhdGVQcm9maWxlUGljdHVyZSh7IGF2YXRhcjogcHJvZmlsZVBpY0lucHV0LnZhbHVlIH0pXHJcbiAgICAudGhlbigodXBkYXRlZFByb2ZpbGVQaWMpID0+IHtcclxuICAgICAgcHJvZmlsZUltYWdlLnNyYyA9IHVwZGF0ZWRQcm9maWxlUGljLmF2YXRhcjtcclxuICAgICAgcHJvZmlsZVBpY0Zvcm0ucmVzZXQoKTtcclxuICAgICAgY2xvc2VNb2RhbChwcm9maWxlUGljTW9kYWwpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVQaWNTYXZlQnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9KTtcclxufVxyXG5cclxucHJvZmlsZVBpY0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzdWJtaXRQcm9maWxlUGljRm9ybSk7XHJcblxyXG4vL1Bvc3QgZm9ybSBmdW5jdGlvbnNcclxubmV3UG9zdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIC8vY2xlYXIgZXhzaXN0aW5nIGRhdGFcclxuICByZXNldFZhbGlkYXRpb24oY2FyZEZvcm0sIFtpbWFnZUxpbmssIGltYWdlQ2FwdGlvbl0sIHZhbGlkYXRpb25Db25maWcpO1xyXG4gIGNhcmRGb3JtLnJlc2V0KCk7XHJcblxyXG4gIC8vb3BlbiB0aGUgbW9kYWxcclxuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRQb3N0Rm9ybShldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBuZXdQb3N0U2F2ZUJ0bi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZCh7IG5hbWU6IGltYWdlQ2FwdGlvbi52YWx1ZSwgbGluazogaW1hZ2VMaW5rLnZhbHVlIH0pXHJcbiAgICAudGhlbigobmV3UG9zdFZhbHVlcykgPT4ge1xyXG4gICAgICBtb2RhbENhcmRUZXh0LnRleHRDb250ZW50ID0gbmV3UG9zdFZhbHVlcy5uYW1lO1xyXG4gICAgICBtb2RhbENhcmRJbWFnZS5zcmMgPSBuZXdQb3N0VmFsdWVzLmxpbms7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQobmV3UG9zdFZhbHVlcyk7XHJcblxyXG4gICAgICBjYXJkQ29udGFpbmVyLnByZXBlbmQobmV3Q2FyZEVsZW1lbnQpO1xyXG5cclxuICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xyXG5cclxuICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25cclxuICAgICAgKTtcclxuICAgICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvbkluYWN0aXZlKTtcclxuXHJcbiAgICAgIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBuZXdQb3N0U2F2ZUJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgc3VibWl0UG9zdEZvcm0pO1xyXG5cclxuLy9Qb3N0IGRhdGEvdGVtcGxhdGUgZnVuY3Rpb25zIGFuZCBpbml0aWFsIGNhcmQgZnVuY3Rpb25zXHJcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gIGNvbnN0IGNhcmRUZXh0ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpO1xyXG4gIGNvbnN0IGNhcmRMaWtlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuXHJcbiAgY2FyZEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gIGNhcmRUZXh0LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XHJcbiAgICBjYXJkTGlrZUJ0bi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgY2FyZExpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGhhbmRsZUNhcmRMaWtlcyhldnQsIGRhdGEuX2lkLCBjYXJkRWxlbWVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcblxyXG4gIGNhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBkYXRhKVxyXG4gICk7XHJcblxyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9kYWxDYXJkSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgbW9kYWxDYXJkSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgbW9kYWxDYXJkVGV4dC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIG9wZW5Nb2RhbChjYXJkTW9kYWwpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbi8vbGlrZSBmdW5jdGlvbnNcclxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2VzKGV2dCwgY2FyZElkKSB7XHJcbiAgY29uc3QgaXNMaWtlZCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUxpa2VTdGF0dXMoY2FyZElkLCAhaXNMaWtlZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxufVxyXG5cclxuLy9kZWxldGVkIGNhcmQgbW9kYWwgZnVuY3Rpb25cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YSkge1xyXG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xyXG4gIHNlbGVjdGVkQ2FyZElkID0gZGF0YS5faWQ7XHJcbiAgb3Blbk1vZGFsKGRlbGV0ZU1vZGFsKTtcclxufVxyXG5cclxuLy9kZWxldGUgY2FyZCBzdWJtaXQgZnVuY3Rpb25cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KCkge1xyXG4gIG1vZGFsRGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGluZy4uLlwiO1xyXG4gIGFwaVxyXG4gICAgLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkQ2FyZC5yZW1vdmUoKTtcclxuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIG1vZGFsRGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcclxuICAgIH0pO1xyXG59XHJcblxyXG5tb2RhbERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRGVsZXRlU3VibWl0KTtcclxuXHJcbm1vZGFsQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XHJcbn0pO1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEFwcEluZm8oKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVMaWtlU3RhdHVzKGNhcmRJZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJQVVRcIiA6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuICB1cGRhdGVQcm9maWxlUGljdHVyZSh7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpO1xyXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsInN1Ym1pdEJ1dHRvbiIsImZvcm1JbnB1dCIsInN1Ym1pdEJ1dHRvbkluYWN0aXZlIiwiZXJyb3JBY3RpdmUiLCJpbnB1dEVycm9yVHlwZSIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJjb25maWciLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsImRpc2FibGVCdXR0b24iLCJidXR0b25FbGVtZW50IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImFkZCIsImRpc2FibGVkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImVuYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJkb2N1bWVudCIsInNyYyIsImVkaXRQcm9maWxlTW9kYWwiLCJlZGl0UHJvZmlsZUJ0biIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwibmFtZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVGb3JtIiwiZm9ybXMiLCJwcm9maWxlRWRpdFNhdmVCdG4iLCJwcm9maWxlUGljTW9kYWwiLCJlZGl0UHJvZmlsZVBpY0J0biIsInByb2ZpbGVQaWNJbnB1dCIsInByb2ZpbGVQaWNGb3JtIiwicHJvZmlsZUltYWdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJwcm9maWxlUGljU2F2ZUJ0biIsIm5ld1Bvc3RNb2RhbCIsIm5ld1Bvc3RCdG4iLCJjYXJkRm9ybSIsImNhcmRGb3JtRWxlbWVudHMiLCJlbGVtZW50cyIsImltYWdlTGluayIsImltYWdlQ2FwdGlvbiIsIm5ld1Bvc3RTYXZlQnRuIiwiY2FyZE1vZGFsIiwibW9kYWxDYXJkSW1hZ2UiLCJtb2RhbENhcmRUZXh0IiwiZGVsZXRlTW9kYWwiLCJtb2RhbERlbGV0ZUJ0biIsIm1vZGFsQ2FuY2VsQnRuIiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJjYXJkVGVtcGxhdGUiLCJjYXJkQ29udGFpbmVyIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJnZXRBcHBJbmZvIiwiYWxsIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGROZXdDYXJkIiwibGluayIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJ1cGRhdGVMaWtlU3RhdHVzIiwiaXNMaWtlZCIsInVwZGF0ZVByb2ZpbGVQaWN0dXJlIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlTW9kYWxFc2NhcGVLZXkiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZSIsImNhcmRUZXh0IiwiY2FyZExpa2VCdG4iLCJhbHQiLCJ0YXJnZXQiLCJjb250YWlucyIsInRvZ2dsZSIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwiaGFuZGxlQ2FyZExpa2VzIiwiX2lkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImluaXRpYWxDYXJkcyIsImNhcmRFbGVtZW50RGF0YSIsImNhcmREZXRhaWxzIiwiYXBwZW5kIiwiZXJyIiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJBcnJheSIsImZyb20iLCJ1cGRhdGVkVXNlckluZm8iLCJmaW5hbGx5IiwidXBkYXRlZFByb2ZpbGVQaWMiLCJyZXNldCIsIm5ld1Bvc3RWYWx1ZXMiLCJuZXdDYXJkRWxlbWVudCIsInByZXBlbmQiLCJzZXRFdmVudExpc3RlbmVycyIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9